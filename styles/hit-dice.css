/**
 * PF2E Hit Dice Healing - Styles
 * Matches the PF2E system theme
 */

/* ============================================================================
   CSS Variables (PF2E Theme)
   ============================================================================ */

:root {
  --hd-red: #5c0000;
  --hd-red-light: #7a1a1a;
  --hd-brown-dark: #3a2318;
  --hd-brown-medium: #5e3929;
  --hd-tan: #c9b18a;
  --hd-tan-light: #e8dcc4;
  --hd-text: #1c1612;
  --hd-text-light: #4a3c32;
  --hd-gold: #c4a747;
  --hd-heart: #c41e3a;
}

/* ============================================================================
   Character Sheet Injection
   ============================================================================ */

.hit-dice-display {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.4rem 0.5rem;
  margin: 0.25rem 0;
  background: linear-gradient(135deg, var(--hd-tan-light) 0%, var(--hd-tan) 100%);
  border: 1px solid var(--hd-brown-medium);
  border-radius: 4px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);
}

.hit-dice-display .hit-dice-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.hit-dice-display .hit-dice-label {
  font-weight: bold;
  font-size: 0.85rem;
  color: var(--hd-brown-dark);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.hit-dice-display .hit-dice-value {
  font-size: 1rem;
  font-weight: bold;
  color: var(--hd-red);
}

.hit-dice-display .hit-dice-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  padding: 0;
  background: var(--hd-red);
  color: white;
  border: 2px solid var(--hd-red-light);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.hit-dice-display .hit-dice-btn:hover {
  background: var(--hd-red-light);
  transform: scale(1.05);
}

.hit-dice-display .hit-dice-btn:active {
  transform: scale(0.95);
}

.hit-dice-display .hit-dice-btn i {
  font-size: 14px;
}

/* ============================================================================
   Modal Window
   ============================================================================ */

.hit-dice-modal.application {
  background: linear-gradient(135deg, var(--hd-brown-dark) 0%, var(--hd-brown-medium) 100%);
  border: 3px solid var(--hd-red);
  border-radius: 8px;
}

.hit-dice-modal .window-header {
  background: var(--hd-red);
  border-bottom: 2px solid var(--hd-gold);
}

.hit-dice-modal .window-title {
  color: white;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.hit-dice-modal .window-content {
  background: linear-gradient(180deg, var(--hd-tan-light) 0%, var(--hd-tan) 100%);
  padding: 1rem;
}

/* Modal Content */
.hit-dice-modal-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* No Dice Warning */
.hit-dice-modal-content .no-dice-warning {
  text-align: center;
  padding: 1.5rem 1rem;
  color: var(--hd-red);
}

.hit-dice-modal-content .no-dice-warning i {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  display: block;
}

.hit-dice-modal-content .no-dice-warning span {
  font-weight: bold;
  font-size: 1.1rem;
}

.hit-dice-modal-content .no-dice-warning .hint {
  font-size: 0.85rem;
  color: var(--hd-text-light);
  margin-top: 0.5rem;
}

/* Dice Status */
.hit-dice-modal-content .dice-status {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  background: white;
  border: 1px solid var(--hd-brown-medium);
  border-radius: 4px;
}

.hit-dice-modal-content .dice-status .label {
  color: var(--hd-text-light);
}

.hit-dice-modal-content .dice-status .value {
  font-weight: bold;
  font-size: 1.1rem;
  color: var(--hd-red);
}

/* Dice Selector */
.hit-dice-modal-content .dice-selector {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 1rem;
}

.hit-dice-modal-content .btn-adjust {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--hd-brown-medium);
  color: white;
  border: 2px solid var(--hd-brown-dark);
  cursor: pointer;
  font-size: 1.2rem;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hit-dice-modal-content .btn-adjust:hover:not(:disabled) {
  background: var(--hd-brown-dark);
  transform: scale(1.1);
}

.hit-dice-modal-content .btn-adjust:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.hit-dice-modal-content .dice-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-width: 80px;
}

.hit-dice-modal-content .dice-count {
  font-size: 2.5rem;
  font-weight: bold;
  color: var(--hd-red);
  line-height: 1;
}

.hit-dice-modal-content .dice-type {
  font-size: 1rem;
  color: var(--hd-text-light);
  font-weight: bold;
}

/* Healing Preview */
.hit-dice-modal-content .healing-preview {
  text-align: center;
  padding: 0.75rem;
  background: white;
  border: 1px solid var(--hd-brown-medium);
  border-radius: 4px;
}

.hit-dice-modal-content .healing-preview .formula {
  font-size: 1.25rem;
  font-weight: bold;
  color: var(--hd-text);
  font-family: monospace;
}

.hit-dice-modal-content .healing-preview .range {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 0.25rem;
  color: var(--hd-heart);
  font-weight: bold;
}

.hit-dice-modal-content .healing-preview .range i {
  color: var(--hd-heart);
}

/* Roll Button */
.hit-dice-modal-content .roll-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: linear-gradient(180deg, var(--hd-red-light) 0%, var(--hd-red) 100%);
  color: white;
  border: 2px solid var(--hd-gold);
  border-radius: 6px;
  font-size: 1.1rem;
  font-weight: bold;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.15s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.hit-dice-modal-content .roll-btn:hover:not(:disabled) {
  background: linear-gradient(180deg, var(--hd-red) 0%, var(--hd-red-light) 100%);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.hit-dice-modal-content .roll-btn:active:not(:disabled) {
  transform: translateY(1px);
  box-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.hit-dice-modal-content .roll-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ============================================================================
   Chat Message
   ============================================================================ */

.hit-dice-chat-card {
  background: linear-gradient(180deg, var(--hd-tan-light) 0%, var(--hd-tan) 100%);
  border: 2px solid var(--hd-red);
  border-radius: 6px;
  overflow: hidden;
}

.hit-dice-chat-card .card-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  background: var(--hd-red);
  color: white;
}

.hit-dice-chat-card .actor-img {
  width: 32px;
  height: 32px;
  border-radius: 4px;
  border: 2px solid var(--hd-gold);
}

.hit-dice-chat-card .card-title {
  margin: 0;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.hit-dice-chat-card .card-content {
  padding: 0.75rem;
}

.hit-dice-chat-card .roll-description {
  margin: 0 0 0.5rem 0;
  color: var(--hd-text);
}

.hit-dice-chat-card .roll-result {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.5rem;
  background: white;
  border-radius: 4px;
  font-family: monospace;
}

.hit-dice-chat-card .roll-result .formula {
  color: var(--hd-text-light);
}

.hit-dice-chat-card .roll-result .equals {
  color: var(--hd-text-light);
}

.hit-dice-chat-card .roll-result .total {
  font-size: 1.25rem;
  font-weight: bold;
  color: var(--hd-text);
}

.hit-dice-chat-card .healing-result {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: rgba(196, 30, 58, 0.1);
  border-radius: 4px;
}

.hit-dice-chat-card .healing-result i {
  color: var(--hd-heart);
}

.hit-dice-chat-card .healing-amount {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--hd-heart);
}

.hit-dice-chat-card .limited-hint {
  font-size: 0.8rem;
  color: var(--hd-text-light);
  font-style: italic;
}

.hit-dice-chat-card .card-footer {
  padding: 0.5rem;
  background: var(--hd-brown-dark);
  color: var(--hd-tan-light);
  font-size: 0.85rem;
}

.hit-dice-chat-card .remaining {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* ============================================================================
   Tab Bar (Spellcaster Modal)
   ============================================================================ */

.hit-dice-modal-content .tab-bar {
  display: flex;
  gap: 0.25rem;
  margin-bottom: 0.5rem;
  padding: 0.25rem;
  background: var(--hd-brown-dark);
  border-radius: 6px;
}

.hit-dice-modal-content .tab {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.5rem 0.75rem;
  background: transparent;
  color: var(--hd-tan-light);
  border: none;
  border-radius: 4px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.15s ease;
}

.hit-dice-modal-content .tab:hover {
  background: rgba(255,255,255,0.1);
}

.hit-dice-modal-content .tab.active {
  background: var(--hd-red);
  color: white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.hit-dice-modal-content .tab i {
  font-size: 0.9rem;
}

/* Tab Content */
.hit-dice-modal-content .tab-content {
  display: none;
}

.hit-dice-modal-content .tab-content.active {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* ============================================================================
   Spellslot Tab Content
   ============================================================================ */

.hit-dice-modal-content .spellslot-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-height: 250px;
  overflow-y: auto;
}

.hit-dice-modal-content .spellslot-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.75rem;
  background: white;
  border: 1px solid var(--hd-brown-medium);
  border-radius: 4px;
  transition: all 0.15s ease;
}

.hit-dice-modal-content .spellslot-row:hover {
  border-color: var(--hd-red);
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.hit-dice-modal-content .slot-info {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.hit-dice-modal-content .slot-entry {
  font-size: 0.75rem;
  color: var(--hd-text-light);
}

.hit-dice-modal-content .slot-level {
  font-weight: bold;
  font-size: 0.95rem;
  color: var(--hd-text);
}

.hit-dice-modal-content .slot-count {
  font-size: 0.8rem;
  color: var(--hd-text-light);
}

.hit-dice-modal-content .slot-action {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.hit-dice-modal-content .slot-cost {
  font-size: 0.8rem;
  font-weight: bold;
  color: var(--hd-red);
  padding: 0.2rem 0.4rem;
  background: rgba(92, 0, 0, 0.1);
  border-radius: 3px;
}

.hit-dice-modal-content .restore-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, #4a9c4a 0%, #357735 100%);
  color: white;
  border: 2px solid #2d6b2d;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.hit-dice-modal-content .restore-btn:hover:not(:disabled) {
  background: linear-gradient(180deg, #357735 0%, #4a9c4a 100%);
  transform: scale(1.05);
}

.hit-dice-modal-content .restore-btn:active:not(:disabled) {
  transform: scale(0.95);
}

.hit-dice-modal-content .restore-btn:disabled {
  background: #999;
  border-color: #777;
  opacity: 0.5;
  cursor: not-allowed;
}

.hit-dice-modal-content .restore-btn i {
  font-size: 0.9rem;
}

/* All Slots Full Message */
.hit-dice-modal-content .all-slots-full {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1.5rem 1rem;
  color: #357735;
  text-align: center;
}

.hit-dice-modal-content .all-slots-full i {
  font-size: 2rem;
}

.hit-dice-modal-content .all-slots-full span {
  font-weight: bold;
  font-size: 1rem;
}

/* Compact Chat Message */
.hit-dice-compact {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.3rem 0;
}

.hit-dice-compact i {
  color: var(--hd-red);
}

.hit-dice-compact .hit-dice-cost {
  color: var(--hd-text-light);
  font-size: 0.85rem;
}
